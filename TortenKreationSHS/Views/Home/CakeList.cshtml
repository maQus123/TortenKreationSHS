@model List<TortenKreationSHS.Models.Cake>

@{
    ViewData["Title"] = "Tortengalerie - TortenKreation SHS";
    int maxCharacters = 120; 
}

<div class="container">
    <br />
    <div class="row">
        @foreach (var cake in Model) {
            <div class="col s12 m6 l4">
                <div class="card large grey lighten-5">
                    <div class="card-image">
                        <a asp-route="cakeDetail" asp-route-slug="@cake.GetSlug()">
                            <img src="~/img/list/@cake.TopImageUrl" alt="@cake.Title">
                        </a>
                    </div>
                    <div class="card-content grey-text">
                        <span class="card-title text-darken-3 truncate">@cake.Title</span>
                        @if (cake.Description.Length > maxCharacters) {
                            cake.Description = cake.Description.Substring(0, maxCharacters) + "...";
                        }
                        <p class="text-darken-1">@cake.Description</p>
                    </div>
                    <div class="card-action">
                        <a asp-route="cakeDetail" asp-route-slug="@cake.GetSlug()" class="pink-text text-lighten-3">Details</a>
                    </div>
                </div>
            </div>
        }
    </div>
</div>